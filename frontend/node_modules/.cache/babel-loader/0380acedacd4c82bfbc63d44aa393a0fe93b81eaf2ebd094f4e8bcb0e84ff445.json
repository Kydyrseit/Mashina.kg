{"ast":null,"code":"import _objectSpread from\"C:/Users/Kydyrseit/PycharmProjects/mashina.kg/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import CarCarousel from\"./CarCarousel\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CarDetailPage=()=>{const{id}=useParams();const[car,setCar]=useState(null);useEffect(()=>{axios.get(\"http://127.0.0.1:8000/api/cars/\".concat(id,\"/\")).then(response=>{// Если images — строки, превращаем в объекты\nconst carData=_objectSpread(_objectSpread({},response.data),{},{images:response.data.images?response.data.images.map(img=>typeof img===\"string\"?{url:img}:img):[]});setCar(carData);}).catch(error=>{console.error(\"Ошибка при загрузке машины:\",error);});},[id]);if(!car)return/*#__PURE__*/_jsx(\"p\",{style:{padding:\"20px\"},children:\"\\u041C\\u0430\\u0448\\u0438\\u043D\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430 \\u0438\\u043B\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u0442\\u0441\\u044F\\u2026\"});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[car.brand,\" \",car.model]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"20px\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(CarCarousel,{images:car.images,carId:car.id}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"400px\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0413\\u043E\\u0434 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430:\"}),\" \",car.year]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u0440\\u043E\\u0431\\u0435\\u0433:\"}),\" \",car.mileage]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041A\\u0443\\u0437\\u043E\\u0432:\"}),\" \",car.bodyType]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0426\\u0432\\u0435\\u0442:\"}),\" \",car.color]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0414\\u0432\\u0438\\u0433\\u0430\\u0442\\u0435\\u043B\\u044C:\"}),\" \",car.engine]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0426\\u0435\\u043D\\u0430:\"}),\" \",car.price,\" USD\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"}),\" \",car.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0432\\u0446\\u0430:\"}),\" \",car.comment]})]})]})]});};export default CarDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","CarCarousel","axios","jsx","_jsx","jsxs","_jsxs","CarDetailPage","id","car","setCar","get","concat","then","response","carData","_objectSpread","data","images","map","img","url","catch","error","console","style","padding","children","to","brand","model","display","gap","flexWrap","carId","maxWidth","year","mileage","bodyType","color","engine","price","description","comment"],"sources":["C:/Users/Kydyrseit/PycharmProjects/mashina.kg/frontend/src/components/CarDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport CarCarousel from \"./CarCarousel\";\r\nimport axios from \"axios\";\r\n\r\nconst CarDetailPage = () => {\r\n  const { id } = useParams();\r\n  const [car, setCar] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://127.0.0.1:8000/api/cars/${id}/`)\r\n      .then(response => {\r\n        // Если images — строки, превращаем в объекты\r\n        const carData = {\r\n          ...response.data,\r\n          images: response.data.images\r\n            ? response.data.images.map(img => typeof img === \"string\" ? { url: img } : img)\r\n            : []\r\n        };\r\n        setCar(carData);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Ошибка при загрузке машины:\", error);\r\n      });\r\n  }, [id]);\r\n\r\n  if (!car) return <p style={{ padding: \"20px\" }}>Машина не найдена или загружается…</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <Link to=\"/\">← Назад к списку</Link>\r\n      <h2>{car.brand} {car.model}</h2>\r\n      <div style={{ display: \"flex\", gap: \"20px\", flexWrap: \"wrap\" }}>\r\n        <CarCarousel images={car.images} carId={car.id} />\r\n        <div style={{ maxWidth: \"400px\" }}>\r\n          <p><strong>Год выпуска:</strong> {car.year}</p>\r\n          <p><strong>Пробег:</strong> {car.mileage}</p>\r\n          <p><strong>Кузов:</strong> {car.bodyType}</p>\r\n          <p><strong>Цвет:</strong> {car.color}</p>\r\n          <p><strong>Двигатель:</strong> {car.engine}</p>\r\n          <p><strong>Цена:</strong> {car.price} USD</p>\r\n          <p><strong>Описание:</strong> {car.description}</p>\r\n          <p><strong>Комментарий продавца:</strong> {car.comment}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}